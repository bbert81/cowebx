/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/date/hebrew","dojox/date/hebrew/Date","dojox/date/hebrew/locale","dojo/date/locale","dojo/i18n","dojo/cldr/nls/gregorian","dojo/i18n","dojo/cldr/nls/hebrew","dojo/i18n","dojo/cldr/nls/gregorian","dojo/i18n","dojo/cldr/nls/hebrew"],function(_1,_2,_3){_1.getObject("dojox.date.tests.hebrew.Date",1);_1.requireLocalization("dojo.cldr","gregorian");_1.requireLocalization("dojo.cldr","hebrew");tests.register("dojox.date.tests.hebrew.Date",[{name:"setup",setUp:function(){var _4=["he","en"];_1.forEach(_4,function(_5){_1.requireLocalization("dojo.cldr","gregorian",_5);_1.requireLocalization("dojo.cldr","hebrew",_5);});},runTest:function(t){},tearDown:function(){}},{name:"compare",runTest:function(t){var _6=new _3.date.hebrew.Date(5769,5,16);var _7=new _3.date.hebrew.Date(5758,10,25);t.is(1,_1.date.compare(_6.toGregorian(),_7.toGregorian()));t.is(-1,_1.date.compare(_7.toGregorian(),_6.toGregorian()));}},{name:"toGregorian_fromGregorian",runTest:function(t){var _8=0,_9=1,_a=2,_b=3,_c=4,_d=5,_e=6,_f=7,_10=8,_11=9,_12=10,AV=11,_13=12;var _14=[[1239,9,8,5000,_8,1],[1240,9,25,5001,_8,1],[1298,4,17,5058,_f,27],[1391,7,11,5151,AV,1],[1492,5,9,5252,_10,3],[1560,4,4,5320,_e,27],[1648,7,10,5408,_12,20],[1903,5,19,5663,_10,22],[1929,9,24,5689,_13,19],[1941,10,29,5702,_9,8],[1943,5,19,5703,_10,14],[1943,11,6,5704,_9,8],[1992,4,15,5752,_f,12],[1996,3,25,5756,_f,5],[2005,4,18,5765,_f,9],[2007,7,12,5767,_12,26],[2007,10,13,5768,_9,1],[2007,11,11,5768,_a,1],[2007,12,10,5768,_b,1],[2008,1,8,5768,_c,1],[2008,2,7,5768,_d,1],[2008,3,8,5768,_e,1],[2008,4,6,5768,_f,1],[2008,5,6,5768,_10,1],[2008,6,4,5768,_11,1],[2008,7,4,5768,_12,1],[2008,8,2,5768,AV,1],[2008,8,4,5768,AV,3],[2008,9,5,5768,_13,5],[2008,8,5,5768,AV,4],[2008,9,11,5768,_13,11],[2008,12,19,5769,_a,22],[2009,1,26,5769,_c,1],[2009,2,25,5769,_d,1],[2009,2,25,5769,_e,1],[2009,3,26,5769,_f,1],[2009,5,24,5769,_11,1],[2009,7,22,5769,AV,1],[2009,8,21,5769,_13,1],[2010,7,2,5770,_12,20],[2011,10,1,5772,_8,3],[2038,12,9,5799,_a,12],[2094,8,17,5854,_13,5]];var _15,_16;_1.forEach(_14,function(d,i){_15=new _3.date.hebrew.Date(d[3],d[4],d[5]);_16=_15.toGregorian();t.is(0,_1.date.compare(new Date(d[0],d[1]-1,d[2]),_16,"date"));});_1.forEach(_14,function(d,i){_16=new Date(d[0],d[1]-1,d[2]);_15=new _3.date.hebrew.Date(_16);testHebrew=new _3.date.hebrew.Date(d[3],d[4],d[5]);t.is(0,_1.date.compare(testHebrew.toGregorian(),_15.toGregorian(),"date"));});}},{name:"getDay",runTest:function(t){var _17=[[5769,0,11,5],[5769,1,3,6],[5769,2,10,0],[5769,3,23,1],[5769,6,21,2],[5769,6,22,3],[5769,7,15,4]];_1.forEach(_17,function(d,i){var _18=new _3.date.hebrew.Date(d[0],d[1],d[2]);t.is(d[3],_18.getDay());});}},{name:"getDaysInHebrewMonth",runTest:function(t){var _19=[[5768,1,29],[5770,1,30],[5768,5,30],[5769,5,0],[5768,2,29],[5769,2,30]];_1.forEach(_19,function(d,i){var _1a=new _3.date.hebrew.Date(d[0],d[1],1);t.is(d[2],_3.date.hebrew.getDaysInMonth(_1a));});}},{name:"add_difference",runTest:function(t){var _1b=0,_1c=1,_1d=2,_1e=3,_1f=4,_20=5,_21=6,_22=7,_23=8,_24=9,_25=10,AV=11,_26=12;var _27=[[5767,_25,5769,_24],[5767,_25,5772,_23],[5767,0,5768,_1b],[5775,_1d,5773,_1e],[5767,_1b,5765,_1c],[5768,_1e,5768,_20],[5768,_23,5768,_21],[5769,_1e,5769,_21],[5769,_23,5769,_1f],[5769,_26,5770,_1b],[5769,_26,5769,AV]];var add=[24,60,12,-24,-24,2,-2,2,-3,1,-1];var _28,_29,res,_2a;_1.forEach(_27,function(s,i){_28=new _3.date.hebrew.Date(s[0],s[1],1);_2a=_3.date.hebrew.add(_28,"month",add[i]);t.is(0,_2a.getMonth()-s[3]);t.is(0,_2a.getFullYear()-s[2]);});_1.forEach(_27,function(s,i){_2a=new _3.date.hebrew.Date(s[2],s[3],1);_28=new _3.date.hebrew.Date(s[0],s[1],1);t.is(add[i],_3.date.hebrew.difference(_2a,_28,"month"));});var _2b=[[5757,_1b,1,"year",10,5767,_1b,1],[5758,_1d,30,"year",-1,5757,_1d,29],[5769,_22,30,"year",-1,5768,_22,30],[5768,_20,30,"year",1,5769,_21,29],[5757,_1b,30,"month",1,5757,_1c,29],[5762,AV,30,"day",1,5762,_26,1],[5762,_26,1,"day",-1,5762,AV,30],[5769,_25,27,"day",10,5769,AV,8],[5757,_1d,1,"day",30,5757,_1e,2],[5758,_1d,1,"day",31,5758,_1e,2],[5769,AV,27,"day",10,5769,_26,7],[5769,_26,27,"day",10,5770,_1b,8],[5769,_25,27,"day",-30,5769,_24,27],[5769,AV,1,"day",-60,5769,_23,29],[5769,_1f,30,"day",1,5769,_21,1],[5769,_25,27,"weekday",10,5769,AV,12],[5769,_1d,1,"weekday",1,5769,_1d,3],[5769,_22,1,"weekday",-5,5769,_21,23],[5769,AV,7,"weekday",-10,5769,_25,22],[5769,AV,12,"weekday",-6,5769,AV,2],[5769,AV,11,"weekday",-6,5769,AV,2],[5769,AV,10,"weekday",-6,5769,AV,2],[5769,AV,11,"weekday",6,5769,AV,19],[5769,AV,10,"weekday",6,5769,AV,19],[5769,AV,11,"weekday",12,5769,AV,27],[5769,AV,10,"weekday",12,5769,AV,27],[5769,AV,9,"weekday",12,5769,AV,27],[5769,_22,29,"week",1,5769,_23,6],[5771,_22,1,"week",-4,5771,_21,2],[5771,_22,1,"week",-8,5771,_20,4],[5769,AV,17,"week",2,5769,_26,1],[5769,AV,18,"week",-1,5769,AV,11]];_1.forEach(_2b,function(f,i){_28=new _3.date.hebrew.Date(f[0],f[1],f[2]);_29=_3.date.hebrew.add(_28,f[3],f[4]);_2a=new _3.date.hebrew.Date(f[5],f[6],f[7]);t.is(0,_1.date.compare(_2a.toGregorian(),_29.toGregorian()));if(f[3]=="week"){t.is(_28.getDay(),_29.getDay());}});_1.forEach(_2b,function(f,i){_28=new _3.date.hebrew.Date(f[0],f[1],f[2]);_2a=new _3.date.hebrew.Date(f[5],f[6],f[7]);res=_3.date.hebrew.difference(_2a,_28,f[3]);t.is(f[4],res);});_28=new _3.date.hebrew.Date(5769,_1d,1);var _2c=_3.date.hebrew.add(_28,"month",4);_28.setMonth(_28.getMonth()+4);t.assertFalse(_28.getMonth()==_2c.getMonth());}},{name:"consistency_of_add_and_difference",runTest:function(t){var _2d=new _3.date.hebrew.Date(5769,4,16);var _2e=new _3.date.hebrew.Date(5768,5,16);var _2f=[2,5,6,7,8,12,18,20,24,50,-3,-4,-5,-6,-7,-8,-9,-10,-50,200,-200];var _30,_31;_1.forEach(_2f,function(_32,i){_30=_3.date.hebrew.add(_2d,"month",_32);_31=_3.date.hebrew.add(_2e,"month",_32);t.is(_3.date.hebrew.difference(_30,_2d,"month"),_32);t.is(_32,_3.date.hebrew.difference(_31,_2e,"month"));_30=_3.date.hebrew.add(_2d,"year",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"year"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"year",_32),_2e,"year"));_30=_3.date.hebrew.add(_2d,"week",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"week"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"week",_32),_2e,"week"));_30=_3.date.hebrew.add(_2d,"weekday",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"weekday"));_31=_3.date.hebrew.add(_2e,"weekday",_32);t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"weekday",_32),_2e,"weekday"));_30=_3.date.hebrew.add(_2d,"day",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"day"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"day",_32),_2e,"day"));_30=_3.date.hebrew.add(_2d,"hour",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"hour"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"hour",_32),_2e,"hour"));_30=_3.date.hebrew.add(_2d,"minute",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"minute"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"minute",_32),_2e,"minute"));_30=_3.date.hebrew.add(_2d,"second",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"second"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"second",_32),_2e,"second"));_30=_3.date.hebrew.add(_2d,"millisecond",_32);t.is(_32,_3.date.hebrew.difference(_30,_2d,"millisecond"));t.is(_32,_3.date.hebrew.difference(_3.date.hebrew.add(_2e,"millisecond",_32),_2e,"millisecond"));});var _33=new _3.date.hebrew.Date(5769,4,17);t.is(1,_3.date.hebrew.difference(_33,_2d));}},{name:"getMonth_setMonth",runTest:function(t){var _34="5766, 5767, 5769, 5770, 5772, 5772, 5773, 5775";var _35="5765, 5768, 5771, 5774";var _36=new _3.date.hebrew.Date(5765,1,1);for(var _37=5766;_37<5866;_37++){_36.setFullYear(_37);t.is(_37,_36.getFullYear());_36.setMonth(12);t.is(12,_36.getMonth());_36.setMonth(6);t.is(6,_36.getMonth());if(_35.match(_37)){_36.setMonth(5);t.is(5,_36.getMonth());}if(_34.match(_37)){_36.setMonth(5);t.is(6,_36.getMonth());}}}},{name:"hebrew_numerals",runTest:function(t){var i,_38;for(i=1;i<=30;i++){t.is(_3.date.hebrew.numerals.parseDayHebrewLetters(_3.date.hebrew.numerals.getDayHebrewLetters(i)),i);t.is(_3.date.hebrew.numerals.parseDayHebrewLetters(_3.date.hebrew.numerals.getDayHebrewLetters(i,true)),i);if(i<=13){t.is(_3.date.hebrew.numerals.parseMonthHebrewLetters(_3.date.hebrew.numerals.getMonthHebrewLetters(i-1)),i-1);}}for(i=5001;i<6000;i+=27){t.is(_3.date.hebrew.numerals.parseYearHebrewLetters(_3.date.hebrew.numerals.getYearHebrewLetters(i)),i);}t.assertFalse(_3.date.hebrew.numerals.parseYearHebrewLetters(_3.date.hebrew.numerals.getYearHebrewLetters(2345))==2345);t.assertFalse(_3.date.hebrew.numerals.parseYearHebrewLetters(_3.date.hebrew.numerals.getYearHebrewLetters(6789))==6789);}},{name:"parse_and_format",runTest:function(t){var _39=[[5768,5,1],[5768,1,29],[5769,6,16],[5769,11,2],[5770,0,2]];var _3a,_3b;_1.forEach(_39,function(_3c,i){_3a=new _3.date.hebrew.Date(_3c[0],_3c[1],_3c[2]);var _3d=[{formatLength:"full",locale:"he"},{formatLength:"long",locale:"he"},{formatLength:"medium",locale:"he"},{formatLength:"short",locale:"he"},{formatLength:"full",locale:"en"},{formatLength:"long",locale:"en"},{formatLength:"medium",locale:"en"},{formatLength:"short",locale:"en"}];_1.forEach(_3d,function(opt,i){str=_3.date.hebrew.locale.format(_3a,opt);var _3e="{"+opt+", locale:'he'}";_3b=_3.date.hebrew.locale.parse(str,opt);t.is(0,_1.date.compare(_3a.toGregorian(),_3b.toGregorian(),"date"));});var _3f=["d M yy","dd/MM/yy h:m:s","dd#MM#yy HH$mm$ss","dd MMMM yyyy"];_1.forEach(_3f,function(pat,i){_3d={datePattern:pat,selector:"date",locale:"he"};str=_3.date.hebrew.locale.format(_3a,_3d);_3b=_3.date.hebrew.locale.parse(str,_3d);t.is(0,_1.date.compare(_3a.toGregorian(),_3b.toGregorian(),"date"));});});_3a=new _3.date.hebrew.Date(5769,6,3,15,3,59);pattern="HH$mm$ss";options={timePattern:pattern,selector:"time"};str=_3.date.hebrew.locale.format(_3a,options);_3b=_3.date.hebrew.locale.parse(str,options);var _40=_1.date.locale.parse(str,options);t.is(0,_1.date.compare(_40,_3b.toGregorian(),"time"));pattern="h:m:s";options={timePattern:pattern,selector:"time"};str=_3.date.hebrew.locale.format(_3a,options);t.is(str,"3:3:59");}}]);});require(["dojox/date/tests/hebrew/Date"]);