/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

(function(){var _1=startGridIndex||0;var _2=repeatCount||1000;var _3=repeatInterval||500;function _4(_5){try{var g=dijit.byId("grid");g&&g.destroyRecursive();dojo.publish("test_repeat_grid_destroyed");for(_1+=_5;_1<0;_1+=layout.length){}_1%=layout.length;var t1=(new Date()).getTime();g=new dojox.grid.EnhancedGrid(dojo.mixin({"id":"grid","store":test_store[0],"structure":layout[_1]},gridAttrs||{}));g.placeAt(dojo.byId("gridContainer"));g.startup();dojo.byId("num").value=_1;dojo.publish("test_repeat_grid_created");return g;}catch(e){}};var _6=_2;function _7(){if(_6>0){--_6;_4(1);setTimeout(_7,_3);}else{var g=dijit.byId("grid");g&&g.destroyRecursive();_6=_2;}};function _8(){_6=0;};function _9(){var id=parseInt(dojo.byId("num").value)%layout.length;_1=isNaN(id)?_1:id;_4(0);};function _a(){var g=dijit.byId("grid");g&&g.destroyRecursive();dojo.publish("test_repeat_grid_destroyed");};dojo.addOnLoad(function(){var _b=dojo.byId("ctrlBtns");if(hideCtrlPanel){dojo.style(_b,"display","none");}_b.appendChild(dojo.create("button",{"innerHTML":"Play","onclick":_7}));_b.appendChild(dojo.create("button",{"innerHTML":"Stop","onclick":_8}));_b.appendChild(dojo.create("button",{"innerHTML":"Prev","onclick":dojo.partial(_4,-1)}));_b.appendChild(dojo.create("button",{"innerHTML":"Next","onclick":dojo.partial(_4,1)}));_b.appendChild(dojo.create("input",{"id":"num","value":_1,"type":"text"}));_b.appendChild(dojo.create("button",{"innerHTML":"Create","onclick":_9}));_b.appendChild(dojo.create("button",{"innerHTML":"Destroy","onclick":_a}));initialShowGrid&&_9();});})();