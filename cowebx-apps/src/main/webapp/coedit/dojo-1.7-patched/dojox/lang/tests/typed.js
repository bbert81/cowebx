/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/lang/typed"],function(_1,_2,_3){_1.getObject("dojox.lang.tests.typed",1);_1.config.typeCheckAllClasses=true;(function(){_3.lang.typed(_1.declare("dojox.lang.tests.TypedClass",null,{constructor:function(_4){if(_4){this.aString="start";this.self=this;}},add:function(a,b){return a+b;},withCallback:function(_5,_6){_5(_6);}}));var _7=_3.lang.tests.TypedClass;_7.properties={aString:String,self:_7,anInt:{type:"integer",maximum:100,optional:true}};_7.methods={add:{parameters:[{type:"number"},{type:"number"}],returns:{type:"string"}},withCallback:{parameters:[{type:"function",parameters:[Number]}]}};var _8={}.__defineGetter__;if(!_8){console.warn("This platform does not support getters, property type checking will not be tested");}function _9(_a){try{_a();}catch(e){return;}throw new Error("No exception was thrown where an exception was required");};tests.register("dojox.lang.tests.typed",[function typedConstructor(){_9(function(){typedInstance=new _7();});},function typedProperties(t){typedInstance=new _7(true);t.is(typedInstance.aString,"start");typedInstance.aString="hi";if(_8){_9(function(){typedInstance.aString=44;});}typedInstance.anInt=22;if(_8){_9(function(){typedInstance.anInt="hello";});}if(_8){_9(function(){typedInstance.anInt=44.33;});}if(_8){_9(function(){typedInstance.anInt=144;});}typedInstance.self=typedInstance;if(_8){_9(function(){typedInstance.self={};});}},function typedMethods(){typedInstance=new _7(true);_9(function(){typedInstance.add("hi",33);});_9(function(){typedInstance.add(22,33);});_9(function(){typedInstance.withCallback(22,33);});_9(function(){typedInstance.withCallback(function(){},"hi");});_7.methods.add.returns.type="number";typedInstance.add(22,33);typedInstance.withCallback(function(){},44);},function typedDeclares(){_1.declare("dojox.lang.tests.AutoTypedClass",null,{constructor:function(){this.foo="bar";},subtract:function(a,b){return a-b;}});var _b=_3.lang.tests.AutoTypedClass;_b.properties={foo:{type:"string"}};_b.methods={subtract:{parameters:[{type:"number"},{type:"number"}]}};typedInstance=new _b(true);if(_8){_9(function(){typedInstance.foo=33;});}typedInstance.foo="baz";_9(function(){typedInstance.subtract("hi",33);});typedInstance.subtract(22,33);}]);})();});require(["dojox/lang/tests/typed"]);