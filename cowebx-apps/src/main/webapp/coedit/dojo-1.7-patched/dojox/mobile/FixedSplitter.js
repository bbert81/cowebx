/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo/_base/html","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","./FixedSplitterPane"],function(_1,_2,_3,_4,_5,_6){return dojo.declare("dojox.mobile.FixedSplitter",[dijit._WidgetBase,dijit._Container,dijit._Contained],{orientation:"H",isContainer:true,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef?this.srcNodeRef:dojo.doc.createElement("DIV");dojo.addClass(this.domNode,"mblFixedSpliter");},startup:function(){if(this._started){return;}var _7=dojo.filter(this.domNode.childNodes,function(_8){return _8.nodeType==1;});dojo.forEach(_7,function(_9){dojo.addClass(_9,"mblFixedSplitterPane"+this.orientation);},this);this.inherited(arguments);var _a=this;setTimeout(function(){var _b=_a.getParent&&_a.getParent();if(!_b||!_b.resize){_a.resize();}},0);},resize:function(){this.layout();},layout:function(){var sz=this.orientation=="H"?"w":"h";var _c=dojo.filter(this.domNode.childNodes,function(_d){return _d.nodeType==1;});var _e=0;for(var i=0;i<_c.length;i++){dojo.marginBox(_c[i],this.orientation=="H"?{l:_e}:{t:_e});if(i<_c.length-1){_e+=dojo.marginBox(_c[i])[sz];}}var h;if(this.orientation=="V"){if(this.domNode.parentNode.tagName=="BODY"){if(dojo.filter(dojo.body().childNodes,function(_f){return _f.nodeType==1;}).length==1){h=(dojo.global.innerHeight||dojo.doc.documentElement.clientHeight);}}}var l=(h||dojo.marginBox(this.domNode)[sz])-_e;var _10={};_10[sz]=l;dojo.marginBox(_c[_c.length-1],_10);dojo.forEach(this.getChildren(),function(_11){if(_11.resize){_11.resize();}});}});});