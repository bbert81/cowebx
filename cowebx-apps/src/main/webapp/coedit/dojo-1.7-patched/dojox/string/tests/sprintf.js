/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/string/sprintf","dojo/string"],function(_1,_2,_3){_1.getObject("dojox.string.tests.sprintf",1);tests.register("dojox.string.tests.sprintf",[{name:"Flag: (space)",runTest:function(t){var _4=_3.string.sprintf;t.is(" 42",_4("% d",42));t.is("-42",_4("% d",-42));t.is("   42",_4("% 5d",42));t.is("  -42",_4("% 5d",-42));t.is("             42",_4("% 15d",42));t.is("            -42",_4("% 15d",-42));}},{name:"Flag: +",runTest:function(t){var _5=_3.string.sprintf;t.is("+42",_5("%+d",42));t.is("-42",_5("%+d",-42));t.is("  +42",_5("%+5d",42));t.is("  -42",_5("%+5d",-42));t.is("            +42",_5("%+15d",42));t.is("            -42",_5("%+15d",-42));}},{name:"Flag: 0",runTest:function(t){var _6=_3.string.sprintf;t.is("42",_6("%0d",42));t.is("-42",_6("%0d",-42));t.is("00042",_6("%05d",42));t.is("00-42",_6("%05d",-42));t.is("000000000000042",_6("%015d",42));t.is("000000000000-42",_6("%015d",-42));}},{name:"Flag: -",runTest:function(t){var _7=_3.string.sprintf;t.is("42",_7("%-d",42));t.is("-42",_7("%-d",-42));t.is("42   ",_7("%-5d",42));t.is("-42  ",_7("%-5d",-42));t.is("42             ",_7("%-15d",42));t.is("-42            ",_7("%-15d",-42));t.is("42",_7("%-0d",42));t.is("-42",_7("%-0d",-42));t.is("42   ",_7("%-05d",42));t.is("-42  ",_7("%-05d",-42));t.is("42             ",_7("%-015d",42));t.is("-42            ",_7("%-015d",-42));t.is("42",_7("%0-d",42));t.is("-42",_7("%0-d",-42));t.is("42   ",_7("%0-5d",42));t.is("-42  ",_7("%0-5d",-42));t.is("42             ",_7("%0-15d",42));t.is("-42            ",_7("%0-15d",-42));}},{name:"Precision",runTest:function(t){var _8=_3.string.sprintf;t.is("42",_8("%d",42.8952));t.is("42",_8("%.2d",42.8952));t.is("42",_8("%.2i",42.8952));t.is("42.90",_8("%.2f",42.8952));t.is("42.90",_8("%.2F",42.8952));t.is("42.8952000000",_8("%.10f",42.8952));t.is("42.90",_8("%1.2f",42.8952));t.is(" 42.90",_8("%6.2f",42.8952));t.is("042.90",_8("%06.2f",42.8952));t.is("+42.90",_8("%+6.2f",42.8952));t.is("42.8952000000",_8("%5.10f",42.8952));}},{name:"Bases",runTest:function(t){var _9=_3.string.sprintf;t.is("",_9("%c",127));var _a=false;try{_9("%c",-100);}catch(e){t.is("invalid character code passed to %c in sprintf",e.message);_a=true;}t.t(_a);_a=false;try{_9("%c",2097152);}catch(e){t.is("invalid character code passed to %c in sprintf",e.message);_a=true;}t.t(_a);}},{name:"Mapping",runTest:function(t){var _b=_3.string.sprintf;t.is("%1$",_b("%1$"));t.is("%0$s",_b("%0$s"));t.is("Hot Pocket",_b("%1$s %2$s","Hot","Pocket"));t.is("12.0 Hot Pockets",_b("%1$.1f %2$s %3$ss",12,"Hot","Pocket"));t.is(" 42",_b("%1$*.f","42",3));_c=false;try{_b("%2$*s","Hot Pocket");}catch(e){t.is("got 1 printf arguments, insufficient for '%2$*s'",e.message);_c=true;}t.t(_c);t.is("%(foo",_b("%(foo",{}));t.is("Hot Pocket",_b("%(temperature)s %(crevace)s",{temperature:"Hot",crevace:"Pocket"}));t.is("12.0 Hot Pockets",_b("%(quantity).1f %(temperature)s %(crevace)ss",{quantity:12,temperature:"Hot",crevace:"Pocket"}));var _c=false;try{_b("%(foo)s",42);}catch(e){t.is("format requires a mapping",e.message);_c=true;}t.t(_c);_c=false;try{_b("%(foo)s %(bar)s","foo",42);}catch(e){t.is("format requires a mapping",e.message);_c=true;}t.t(_c);_c=false;try{_b("%(foo)*s",{foo:"Hot Pocket"});}catch(e){t.is("* width not supported in mapped formats",e.message);_c=true;}t.t(_c);}},{name:"Positionals",runTest:function(t){var _d=_3.string.sprintf;t.is(" foo",_d("%*s","foo",4));t.is("      3.14",_d("%*.*f",3.14159265,10,2));t.is("0000003.14",_d("%0*.*f",3.14159265,10,2));t.is("3.14      ",_d("%-*.*f",3.14159265,10,2));var _e=false;try{_d("%*s","foo","bar");}catch(e){t.is("the argument for * width at position 2 is not a number in %*s",e.message);_e=true;}t.t(_e);_e=false;try{_d("%10.*f","foo",42);}catch(e){t.is("format argument 'foo' not a float; parseFloat returned NaN",e.message);_e=true;}t.t(_e);}},{name:"vs. Formatter",runTest:function(t){var _f=_3.string.sprintf;for(var i=0;i<1000;i++){_f("%d %s Pockets",i,"Hot");}}},{name:"Formatter",runTest:function(t){var _10=_3.string.sprintf.Formatter;var str=new _10("%d %s Pockets");for(var i=0;i<1000;i++){str.format(i,"Hot");}}},{name:"Miscellaneous",runTest:function(t){var _11=_3.string.sprintf;t.is("+hello+",_11("+%s+","hello"));t.is("+10+",_11("+%d+",10));t.is("a",_11("%c","a"));t.is("\"",_11("%c",34));t.is("$",_11("%c",36));t.is("10",_11("%d",10));var _12=false;try{_11("%s%s",42);}catch(e){t.is("got 1 printf arguments, insufficient for '%s%s'",e.message);_12=true;}t.t(_12);_12=false;try{_11("%c");}catch(e){t.is("got 0 printf arguments, insufficient for '%c'",e.message);_12=true;}t.t(_12);t.is("%10",_11("%10",42));}}]);});require(["dojox/string/tests/sprintf"]);