/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["doh","dojo/_base/html","../parser"],function(_1,_2,_3){_1.register("dojox.xml.tests.parser",[function testParse(t){var _4=_3.parse();t.assertTrue(_4!==null);},function testParseFromText(t){var _5="<parentNode><childNode><grandchildNode/></childNode><childNode/></parentNode>";var _6=_3.parse(_5,"text/xml");var _7=_6.firstChild;t.assertTrue(_7!==null);t.assertTrue(_7.tagName==="parentNode");t.assertTrue(_7.childNodes.length==2);var _8=_7.firstChild;t.assertTrue(_8!==null);t.assertTrue(_8.tagName==="childNode");t.assertTrue(_8.childNodes.length==1);var _9=_8.nextSibling;t.assertTrue(_9!==null);t.assertTrue(_9.tagName==="childNode");var _a=_8.firstChild;t.assertTrue(_a!==null);t.assertTrue(_a.tagName==="grandchildNode");},function testParseEmptyString(t){var _b="";var _c=_3.parse(_b,"text/xml");t.assertTrue(typeof _c!="undefined");var _d=_c.firstChild;t.assertTrue(_d===null);},function testParseEmpty(t){var _e;var _f=_3.parse();t.assertTrue(typeof _f!="undefined");var _10=_f.firstChild;t.assertTrue(_10===null);},function testReadTextContent(t){var _11="This is a bunch of child text on the node";var _12="<parentNode>"+_11+"</parentNode>";var _13=_3.parse(_12,"text/xml");var _14=_13.firstChild;t.assertTrue(_14!==null);t.assertTrue(_14.tagName==="parentNode");t.assertTrue(_11===_3.textContent(_14));_2.destroy(_14);t.assertTrue(_13.firstChild===null);},function testSetTextContent(t){var _15="This is a bunch of child text on the node";var _16="This is the new text";var _17="<parentNode>"+_15+"</parentNode>";var _18=_3.parse(_17,"text/xml");var _19=_18.firstChild;t.assertTrue(_19!==null);t.assertTrue(_19.tagName==="parentNode");t.assertTrue(_15===_3.textContent(_19));_3.textContent(_19,_16);t.assertTrue(_16===_3.textContent(_19));_2.destroy(_19);t.assertTrue(_18.firstChild===null);},function testReplaceChildrenArray(t){var _1a="<parentNode><child1/><child2/><child3/></parentNode>";var _1b="<parentNode><child4/><child5/><child6/><child7/></parentNode>";var _1c=_3.parse(_1a,"text/xml");var _1d=_3.parse(_1b,"text/xml");var _1e=_1c.firstChild;var _1f=_1d.firstChild;t.assertTrue(_1e!==null);t.assertTrue(_1e.tagName==="parentNode");t.assertTrue(_1f!==null);t.assertTrue(_1f.tagName==="parentNode");_3.removeChildren(_1e);var _20=[];for(var i=0;i<_1f.childNodes.length;i++){_20.push(_1f.childNodes[i]);}_3.removeChildren(_1f);_3.replaceChildren(_1e,_20);t.assertEqual(4,_1e.childNodes.length);t.assertEqual("child4",_1e.firstChild.tagName);t.assertEqual("child7",_1e.lastChild.tagName);},function testReplaceChildrenSingle(t){var _21="<parentNode><child1/><child2/><child3/></parentNode>";var _22="<parentNode><child4/></parentNode>";var _23=_3.parse(_21,"text/xml");var _24=_3.parse(_22,"text/xml");var _25=_23.firstChild;var _26=_24.firstChild;t.assertTrue(_25!==null);t.assertTrue(_25.tagName==="parentNode");t.assertTrue(_26!==null);t.assertTrue(_26.tagName==="parentNode");_3.removeChildren(_25);var _27=_26.firstChild;_3.removeChildren(_26);_3.replaceChildren(_25,_27);t.assertTrue(_25.childNodes.length===1);t.assertTrue(_25.firstChild.tagName==="child4");t.assertTrue(_25.lastChild.tagName==="child4");},function testRemoveChildren(t){var _28="<parentNode><child1/><child2/><child3/></parentNode>";var _29=_3.parse(_28,"text/xml");var _2a=_29.firstChild;t.assertTrue(_2a!==null);t.assertTrue(_2a.tagName==="parentNode");_3.removeChildren(_2a);t.assertTrue(_2a.childNodes.length===0);t.assertTrue(_2a.firstChild===null);},function testInnerXML(t){var _2b="<parentNode><child1/><child2/><child3/></parentNode>";var _2c=_3.parse(_2b,"text/xml");var _2d=_2c.firstChild;t.assertTrue(_2d!==null);t.assertTrue(_2d.tagName==="parentNode");var _2e=_3.innerXML(_2d);t.assertTrue(_2b===_2e);}]);});