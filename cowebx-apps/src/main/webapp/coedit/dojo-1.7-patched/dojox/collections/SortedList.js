/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo/_base/array","./_base"],function(_1,_2){_2.SortedList=function(_3){var _4=this;var _5={};var q=[];var _6=function(a,b){if(a.key>b.key){return 1;}if(a.key<b.key){return -1;}return 0;};var _7=function(){q=[];var e=_4.getIterator();while(!e.atEnd()){q.push(e.get());}q.sort(_6);};var _8={};this.count=q.length;this.add=function(k,v){if(!_5[k]){_5[k]=new _2.DictionaryEntry(k,v);this.count=q.push(_5[k]);q.sort(_6);}};this.clear=function(){_5={};q=[];this.count=q.length;};this.clone=function(){return new _2.SortedList(this);};this.contains=this.containsKey=function(k){if(_8[k]){return false;}return (_5[k]!=null);};this.containsValue=function(o){var e=this.getIterator();while(!e.atEnd()){var _9=e.get();if(_9.value==o){return true;}}return false;};this.copyTo=function(_a,i){var e=this.getIterator();var _b=i;while(!e.atEnd()){_a.splice(_b,0,e.get());_b++;}};this.entry=function(k){return _5[k];};this.forEach=function(fn,_c){_1.forEach(q,fn,_c);};this.getByIndex=function(i){return q[i].valueOf();};this.getIterator=function(){return new _2.DictionaryIterator(_5);};this.getKey=function(i){return q[i].key;};this.getKeyList=function(){var _d=[];var e=this.getIterator();while(!e.atEnd()){_d.push(e.get().key);}return _d;};this.getValueList=function(){var _e=[];var e=this.getIterator();while(!e.atEnd()){_e.push(e.get().value);}return _e;};this.indexOfKey=function(k){for(var i=0;i<q.length;i++){if(q[i].key==k){return i;}}return -1;};this.indexOfValue=function(o){for(var i=0;i<q.length;i++){if(q[i].value==o){return i;}}return -1;};this.item=function(k){if(k in _5&&!_8[k]){return _5[k].valueOf();}return undefined;};this.remove=function(k){delete _5[k];_7();this.count=q.length;};this.removeAt=function(i){delete _5[q[i].key];_7();this.count=q.length;};this.replace=function(k,v){if(!_5[k]){this.add(k,v);return false;}else{_5[k]=new _2.DictionaryEntry(k,v);_7();return true;}};this.setByIndex=function(i,o){_5[q[i].key].value=o;_7();this.count=q.length;};if(_3){var e=_3.getIterator();while(!e.atEnd()){var _f=e.get();q[q.length]=_5[_f.key]=new _2.DictionaryEntry(_f.key,_f.value);}q.sort(_6);}};return _2.SortedList;});