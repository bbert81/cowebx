/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo/_base/kernel","dojo/_base/connect","dojo/_base/html","dojo/_base/lang","dojo/_base/sniff","dojo/_base/url","dojo/_base/window"],function(_1){var _2=new function(){var _3=[];this.pop=function(){var _4;if(_3.length){_4=_3.pop();_4.style.display="";}else{if(_1.isIE<9){var _5=_1.config["dojoBlankHtmlUrl"]||(_1.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _6="<iframe src='"+_5+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4=_1.doc.createElement(_6);}else{_4=_1.create("iframe");_4.src="javascript:\"\"";_4.className="dijitBackgroundIframe";_4.setAttribute("role","presentation");_1.style(_4,"opacity",0.1);}_4.tabIndex=-1;}return _4;};this.push=function(_7){_7.style.display="none";_3.push(_7);};}();var _8=function(_9){if(!_9.id){throw new Error("no id");}if(_1.isIE||_1.isMoz){var _a=(this.iframe=_2.pop());_9.appendChild(_a);if(_1.isIE<7||_1.isQuirks){this.resize(_9);this._conn=_1.connect(_9,"onresize",this,function(){this.resize(_9);});}else{_1.style(_a,{width:"100%",height:"100%"});}}};_1.extend(_8,{resize:function(_b){if(this.iframe){_1.style(this.iframe,{width:_b.offsetWidth+"px",height:_b.offsetHeight+"px"});}},destroy:function(){if(this._conn){_1.disconnect(this._conn);this._conn=null;}if(this.iframe){_2.push(this.iframe);delete this.iframe;}}});return _8;});