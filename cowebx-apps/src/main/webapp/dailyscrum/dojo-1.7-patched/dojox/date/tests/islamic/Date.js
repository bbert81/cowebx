/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/date/islamic/Date","dojox/date/islamic/locale","dojox/date/islamic","dojo/date","dojo/date/locale","dojo/i18n","dojo/cldr/nls/gregorian","dojo/i18n","dojo/cldr/nls/islamic","dojo/i18n","dojo/cldr/nls/islamic"],function(_1,_2,_3){_1.getObject("dojox.date.tests.islamic.Date",1);_1.requireLocalization("dojo.cldr","gregorian");_1.requireLocalization("dojo.cldr","islamic");tests.register("dojox.date.tests.islamic.Date",[{name:"setup",setUp:function(){var _4=["ar","en"];_1.forEach(_4,function(_5){_1.requireLocalization("dojo.cldr","islamic",_5);});},runTest:function(t){},tearDown:function(){}},{name:"toGregorian",runTest:function(t){var _6=new _3.date.islamic.Date(1431,3,6,15,15,10);var _7=_6.toGregorian();t.is(0,_1.date.compare(new Date(2010,2,22,15,15,10),_7,"date"));}},{name:"fromGregorian",runTest:function(t){var _8=new _3.date.islamic.Date();var _9=new Date(2010,2,22,15,15,10);_8.fromGregorian(_9);t.is(0,_3.date.islamic.compare(new _3.date.islamic.Date(1431,3,6,15,15,10),_8,"date"));}},{name:"getDay",runTest:function(t){var _a=[[1431,0,11,1],[1431,1,3,2],[1431,2,10,3],[1431,3,23,4],[1431,6,21,6],[1431,6,22,0],[1431,7,15,2]];_1.forEach(_a,function(d,i){var _b=new _3.date.islamic.Date(d[0],d[1],d[2]);t.is(d[3],_b.getDay());});}},{name:"getDaysInIslamicMonth",runTest:function(t){var _c=[[1430,1,29],[1420,1,29],[1422,5,29],[1431,5,29],[1430,2,30],[1431,2,30]];_1.forEach(_c,function(d,i){var _d=new _3.date.islamic.Date(d[0],d[1],1);t.is(d[2],_3.date.islamic.getDaysInMonth(_d));});}},{name:"add_difference",runTest:function(t){var _e=[[1420,1,1422,1],[1430,2,1435,2],[1433,0,1434,0],[1422,2,1420,2],[1429,3,1427,3],[1431,4,1431,6],[1429,7,1429,5],[1431,3,1431,5],[1431,3,1431,0],[1431,1,1431,2],[1431,9,1431,8]];var _f=[24,60,12,-24,-24,2,-2,2,-3,1,-1];var _10,_11,res,_12;_1.forEach(_e,function(s,i){_10=new _3.date.islamic.Date(s[0],s[1],1);_12=_3.date.islamic.add(_10,"month",_f[i]);t.is(0,_12.getMonth()-s[3]);t.is(0,_12.getFullYear()-s[2]);});_1.forEach(_e,function(s,i){_12=new _3.date.islamic.Date(s[2],s[3],1);_10=new _3.date.islamic.Date(s[0],s[1],1);t.is(_f[i],_3.date.islamic.difference(_12,_10,"month"));});}},{name:"consistency_of_add_and_difference",runTest:function(t){var _13=new _3.date.islamic.Date(1431,4,6);var _14=[2,5,6,7,8,12,18,20,24,50,-3,-4,-5,-6,-7,-8,-9,-10,-50,200,-200];var _15;_1.forEach(_14,function(_16,i){_15=_3.date.islamic.add(_13,"month",_16);t.is(_3.date.islamic.difference(_15,_13,"month"),_16);_15=_3.date.islamic.add(_13,"year",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"year"));_15=_3.date.islamic.add(_13,"week",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"week"));_15=_3.date.islamic.add(_13,"weekday",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"weekday"));_15=_3.date.islamic.add(_13,"day",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"day"));_15=_3.date.islamic.add(_13,"hour",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"hour"));_15=_3.date.islamic.add(_13,"minute",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"minute"));_15=_3.date.islamic.add(_13,"second",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"second"));_15=_3.date.islamic.add(_13,"millisecond",_16);t.is(_16,_3.date.islamic.difference(_15,_13,"millisecond"));});var _17=new _3.date.islamic.Date(1431,4,7);t.is(1,_3.date.islamic.difference(_17,_13));}},{name:"getMonth_setMonth",runTest:function(t){var _18=new _3.date.islamic.Date(1420,1,1);for(var _19=1420;_19<1430;_19++){_18.setFullYear(_19);t.is(_19,_18.getFullYear());_18.setMonth(11);t.is(11,_18.getMonth());_18.setMonth(6);t.is(6,_18.getMonth());}}},{name:"parse_and_format",runTest:function(t){var _1a=[[1430,5,1],[1428,1,28],[1431,5,16],[1431,11,2],[1433,0,2]];var _1b,_1c;_1.forEach(_1a,function(_1d,i){_1b=new _3.date.islamic.Date(_1d[0],_1d[1],_1d[2]);var _1e=[{formatLength:"full",locale:"ar"},{formatLength:"long",locale:"ar"},{formatLength:"medium",locale:"ar"},{formatLength:"short",locale:"ar"},{formatLength:"full",locale:"en"},{formatLength:"long",locale:"en"},{formatLength:"medium",locale:"en"},{formatLength:"short",locale:"en"}];_1.forEach(_1e,function(opt,i){str=_3.date.islamic.locale.format(_1b,opt);var _1f="{"+opt+", locale:'ar'}";_1c=_3.date.islamic.locale.parse(str,opt);t.is(0,_1.date.compare(_1b.toGregorian(),_1c.toGregorian(),"date"));});var _20=["d M yy","dd/MM/yy h:m:s","dd#MM#yy HH$mm$ss","dd MMMM yyyy"];_1.forEach(_20,function(pat,i){_1e={datePattern:pat,selector:"date",locale:"ar"};str=_3.date.islamic.locale.format(_1b,_1e);_1c=_3.date.islamic.locale.parse(str,_1e);t.is(0,_1.date.compare(_1b.toGregorian(),_1c.toGregorian(),"date"));});});_1b=new _3.date.islamic.Date(1431,6,3,15,3,59);pattern="HH$mm$ss";options={timePattern:pattern,selector:"time"};str=_3.date.islamic.locale.format(_1b,options);_1c=_3.date.islamic.locale.parse(str,options);var _21=_1.date.locale.parse(str,options);t.is(0,_1.date.compare(_21,_1c.toGregorian(),"time"));pattern="h:m:s";options={timePattern:pattern,selector:"time"};str=_3.date.islamic.locale.format(_1b,options);t.is(str,"3:3:59");}}]);});require(["dojox/date/tests/islamic/Date"]);