/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

(function(){var _1=function(){};dojo.declare("dojox.grid._data.yahooSearch",null,function(_2,_3){this.rowsPerPage=20;this.fieldNames=[];for(var i=0,f;(f=_2[i]);i++){this.fieldNames.push(f.name);}},{clearData:function(){turbo.widgets.TurboGrid.data.dynamic.prototype.clearData.apply(this,arguments);},encodeParam:function(_4,_5){return turbo.printf("&%s=%s",_4,_5);},getParams:function(_6){var _7=this.url;_7+="?appid=turboajax";_6=_6||{};_6.output="json";_6.results=this.rowsPerPage;_6.query=turbo.$("searchInput").value.replace(/ /g,"+");for(var i in _6){if(_6[i]!=undefined){_7+=this.encodeParam(i,_6[i]);}}return _7;},send:function(_8,_9,_a,_b){var p=this.getParams(_9);dojo.io.bind({url:"support/proxy.php",method:"post",content:{url:p},contentType:"application/x-www-form-urlencoded; charset=utf-8",mimetype:"text/json",sync:!_8,load:turbo.bindArgs(this,"receive",_a,_b),error:turbo.bindArgs(this,"error",_b)});this.onSend(_9);},receive:function(_c,_d,_e,_f){try{_f=_f.ResultSet;_c(_f);this.onReceive(_f);}catch(e){if(_d){_d(_f);}}},error:function(_10,_11,_12){var m="io error: "+_12.message;alert(m);if(_10){_10(m);}},fetchRowCount:function(_13){this.send(true,_13);},requestRows:function(_14,_15){_14=(_14==undefined?0:_14);var _16={start:_14+1};this.send(true,_16,turbo.bindArgs(this,this.processRows));},processRows:function(_17){for(var i=0,l=_17.totalResultsReturned,s=_17.firstResultPosition;i<l;i++){this.setRow(_17.Result[i],s-1+i);}var c=Math.min(1000,_17.totalResultsAvailable);if(this.count!=c){this.setRowCount(c);this.allChange();this.onInitializeData(_17);}},getDatum:function(_18,_19){var row=this.getRow(_18);var _1a=this.fields.get(_19);return (_19==undefined?row:(row?row[_1a.name]:_1a.na));},onInitializeData:_1,onSend:_1,onReceive:_1});modelChange=function(){var n=turbo.$("rowCount");if(n){n.innerHTML=turbo.printf("about %s row(s)",model.count);}};formatLink=function(_1b,_1c){if(!_1b[0]||!_1b[1]){return "&nbsp;";}return turbo.supplant("<a target=\"_blank\" href=\"{href}\">{text}</a>",{href:_1b[0],text:_1b[1]});};formatImage=function(_1d,_1e){if(!_1d[0]||!_1d[1]){return "&nbsp;";}var o={href:_1d[0],src:_1d[1].Url,width:_1d[1].Width,height:_1d[1].Height};return turbo.supplant("<a href=\"{href}\" target=\"_blank\"><img border=0 src=\"{src}\" width=\"{width}\" height=\"{height}\"></a>",o);};formatDate=function(_1f,_20){if(_1f==""){return "&nbsp;";}var d=new Date(_1f*1000);return turbo.printf("%s/%s/%s",d.getMonth(),d.getDate(),d.getFullYear());};formatDimensions=function(_21,_22){if(!_21[0]||!_21[1]){return "&nbsp;";}return _21[0]+" x "+_21[1];};})();