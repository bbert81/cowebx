/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/lang/functional","dojox/lang/functional/listcomp","dojox/lang/functional/linrec","dojox/lang/functional/numrec","dojox/lang/functional/tailrec","dojox/lang/functional/binrec","dojox/lang/functional/multirec"],function(_1,_2,_3){_1.getObject("dojox.lang.tests.recomb",1);(function(){var df=_3.lang.functional,_4=function(n){return n<=1?1:n*_4(n-1);},_5=function(n){return n<=1?1:_5(n-1)+_5(n-2);},_6=df.listcomp("i for(i = 0; i < 15; ++i)"),_7=df.map(_6,_4),_8=df.map(_6,_5);tests.register("dojox.lang.tests.recomb",[function testFactLinrec1(t){var _9=df.linrec("<= 1","1","[n - 1]","a * b[0]");t.assertEqual(df.map(_6,_9),_7);},function testFactLinrec2(t){var _a=df.linrec(df.lambda("<= 1"),df.lambda("1"),df.lambda("[n - 1]"),df.lambda("a * b[0]"));t.assertEqual(df.map(_6,_a),_7);},function testFactNumrec1(t){var _b=df.numrec(1,"*");t.assertEqual(df.map(_6,_b),_7);},function testFactNumrec2(t){var _c=df.numrec(1,df.lambda("*"));t.assertEqual(df.map(_6,_c),_7);},function testFactMultirec1(t){var _d=df.multirec("<= 1","1","[[n - 1]]","a[0] * b[0]");t.assertEqual(df.map(_6,_d),_7);},function testFactMultirec2(t){var _e=df.multirec(df.lambda("<= 1"),df.lambda("1"),df.lambda("[[n - 1]]"),df.lambda("a[0] * b[0]"));t.assertEqual(df.map(_6,_e),_7);},function testFactTailrec1(t){var _f=df.tailrec("<= 1","n, acc -> acc","[n - 1, n * acc]"),_4=function(n){return _f(n,1);};t.assertEqual(df.map(_6,_4),_7);},function testFactTailrec2(t){var _10=df.tailrec(df.lambda("<= 1"),df.lambda("n, acc -> acc"),df.lambda("[n - 1, n * acc]")),_4=function(n){return _10(n,1);};t.assertEqual(df.map(_6,_4),_7);},function testFibBinrec1(t){var fib=df.binrec("<= 1","1","[[n - 1], [n - 2]]","+");t.assertEqual(df.map(_6,fib),_8);},function testFibBinrec2(t){var fib=df.binrec(df.lambda("<= 1"),df.lambda("1"),df.lambda("[[n - 1], [n - 2]]"),df.lambda("+"));t.assertEqual(df.map(_6,fib),_8);},function testFibTailrec1(t){var _11=df.tailrec("<= 0","n, next, result -> result","[n - 1, next + result, next]"),_5=function(n){return _11(n,1,1);};t.assertEqual(df.map(_6,_5),_8);},function testFibTailrec2(t){var _12=df.tailrec(df.lambda("<= 0"),df.lambda("n, next, result -> result"),df.lambda("[n - 1, next + result, next]")),_5=function(n){return _12(n,1,1);};t.assertEqual(df.map(_6,_5),_8);},function testFibMultirec1(t){var fib=df.multirec("<= 1","1","[[n - 1], [n - 2]]","a[0] + a[1]");t.assertEqual(df.map(_6,fib),_8);},function testFibMultirec2(t){var fib=df.multirec(df.lambda("<= 1"),df.lambda("1"),df.lambda("[[n - 1], [n - 2]]"),df.lambda("a[0] + a[1]"));t.assertEqual(df.map(_6,fib),_8);}]);})();});require(["dojox/lang/tests/recomb"]);