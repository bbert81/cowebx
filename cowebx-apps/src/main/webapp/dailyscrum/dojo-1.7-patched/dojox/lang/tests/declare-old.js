/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox"],function(_1,_2,_3){_1.getObject("dojox.lang.tests.declare-old",1);_3.lang.tests.declareOld=function(_4,_5,_6){var dd=arguments.callee,_7;if(_1.isArray(_5)){_7=_5;_5=_7.shift();}if(_7){_1.forEach(_7,function(m,i){if(!m){throw (_4+": mixin #"+i+" is null");}_5=dd._delegate(_5,m);});}var _8=dd._delegate(_5);_6=_6||{};_8.extend(_6);_1.extend(_8,{declaredClass:_4,_constructor:_6.constructor});_8.prototype.constructor=_8;return _1.setObject(_4,_8);};_1.mixin(_3.lang.tests.declareOld,{_delegate:function(_9,_a){var bp=(_9||0).prototype,mp=(_a||0).prototype,dd=_3.lang.tests.declareOld;var _b=dd._makeCtor();_1.mixin(_b,{superclass:bp,mixin:mp,extend:dd._extend});if(_9){_b.prototype=_1._delegate(bp);}_1.extend(_b,dd._core,mp||0,{_constructor:null,preamble:null});_b.prototype.constructor=_b;_b.prototype.declaredClass=(bp||0).declaredClass+"_"+(mp||0).declaredClass;return _b;},_extend:function(_c){var i,fn;for(i in _c){if(_1.isFunction(fn=_c[i])&&!0[i]){fn.nom=i;fn.ctor=this;}}_1.extend(this,_c);},_makeCtor:function(){return function(){this._construct(arguments);};},_core:{_construct:function(_d){var c=_d.callee,s=c.superclass,ct=s&&s.constructor,m=c.mixin,_e=m&&m.constructor,a=_d,ii,fn;if(a[0]){if(((fn=a[0].preamble))){a=fn.apply(this,a)||a;}}if((fn=c.prototype.preamble)){a=fn.apply(this,a)||a;}if(ct&&ct.apply){ct.apply(this,a);}if(_e&&_e.apply){_e.apply(this,a);}if((ii=c.prototype._constructor)){ii.apply(this,_d);}if(this.constructor.prototype==c.prototype&&(ct=this.postscript)){ct.apply(this,_d);}},_findMixin:function(_f){var c=this.constructor,p,m;while(c){p=c.superclass;m=c.mixin;if(m==_f||(m instanceof _f.constructor)){return p;}if(m&&m._findMixin&&(m=m._findMixin(_f))){return m;}c=p&&p.constructor;}},_findMethod:function(_10,_11,_12,has){var p=_12,c,m,f;do{c=p.constructor;m=c.mixin;if(m&&(m=this._findMethod(_10,_11,m,has))){return m;}if((f=p[_10])&&(has==(f==_11))){return p;}p=c.superclass;}while(p);return !has&&(p=this._findMixin(_12))&&this._findMethod(_10,_11,p,has);},inherited:function(_13,_14,_15){var a=arguments;if(typeof a[0]!="string"){_15=_14;_14=_13;_13=_14.callee.nom;}a=_15||_14;var c=_14.callee,p=this.constructor.prototype,fn,mp;if(this[_13]!=c||p[_13]==c){mp=(c.ctor||0).superclass||this._findMethod(_13,c,p,true);if(!mp){throw (this.declaredClass+": inherited method \""+_13+"\" mismatch");}p=this._findMethod(_13,c,mp,false);}fn=p&&p[_13];if(!fn){throw (mp.declaredClass+": inherited method \""+_13+"\" not found");}return fn.apply(this,a);}}});});require(["dojox/lang/tests/declare-old"]);