/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo/_base/array","dojo/_base/html","./_ItemBase"],function(_1,_2,_3){return dojo.declare("dojox.mobile.ToolBarButton",dojox.mobile._ItemBase,{selected:false,btnClass:"",_defaultColor:"mblColorDefault",_selColor:"mblColorDefaultSel",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||dojo.doc.createElement("div");this.inheritParams();dojo.addClass(this.domNode,"mblToolbarButton mblArrowButtonText");var _4;if(this.selected){_4=this._selColor;}else{if(this.domNode.className.indexOf("mblColor")==-1){_4=this._defaultColor;}}dojo.addClass(this.domNode,_4);if(!this.label){this.label=this.domNode.innerHTML;}this.domNode.innerHTML=this._cv(this.label);if(this.icon&&this.icon!="none"){var _5;if(this.iconPos){var _6=dojo.create("DIV",null,this.domNode);_5=dojo.create("IMG",null,_6);_5.style.position="absolute";var _7=this.iconPos.split(/[ ,]/);dojo.style(_6,{position:"relative",width:_7[2]+"px",height:_7[3]+"px"});}else{_5=dojo.create("IMG",null,this.domNode);}_5.src=this.icon;_5.alt=this.alt;dojox.mobile.setupIcon(_5,this.iconPos);this.iconNode=_5;}else{if(dojox.mobile.createDomButton(this.domNode)){dojo.addClass(this.domNode,"mblToolbarButtonDomButton");}}this.connect(this.domNode,"onclick","onClick");},select:function(_8){dojo.toggleClass(this.domNode,this._selColor,!_8);this.selected=!_8;},onClick:function(e){this.setTransitionPos(e);this.defaultClickAction();},_setBtnClassAttr:function(_9){var _a=this.domNode;if(_a.className.match(/(mblDomButton\w+)/)){dojo.removeClass(_a,RegExp.$1);}dojo.addClass(_a,_9);if(dojox.mobile.createDomButton(this.domNode)){dojo.addClass(this.domNode,"mblToolbarButtonDomButton");}}});});