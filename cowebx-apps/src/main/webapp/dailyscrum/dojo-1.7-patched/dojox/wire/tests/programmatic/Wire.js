/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/wire/Wire"],function(_1,_2,_3){_1.getObject("dojox.wire.tests.programmatic.Wire",1);_1.declare("dojox.wire.tests.programmatic.Wire.Converter",null,{convert:function(v){return v+1;}});if(_1.isBrowser){window["__wireTestConverterFunction"]=function(v){return v+1;};}else{var _4=function(v){return v+1;};}tests.register("dojox.wire.tests.programmatic.Wire",[function test_Wire_property(t){var _5={a:"A",b:{c:"B.C"}};var _6={a:"a",b:{c:"b.c"}};var _7=new _3.wire.Wire({object:_5,property:"a"}).getValue();new _3.wire.Wire({object:_6,property:"a"}).setValue(_7);t.assertEqual(_5.a,_6.a);_7=new _3.wire.Wire({object:_5,property:"b.c"}).getValue();new _3.wire.Wire({object:_6,property:"b.c"}).setValue(_7);t.assertEqual(_5.b.c,_6.b.c);_6={};_7=new _3.wire.Wire({object:_5,property:"a"}).getValue();new _3.wire.Wire({object:_6,property:"a"}).setValue(_7);t.assertEqual(_5.a,_6.a);_6.b={};_7=new _3.wire.Wire({object:_5,property:"b.c"}).getValue();new _3.wire.Wire({object:_6,property:"b.c"}).setValue(_7);t.assertEqual(_5.b.c,_6.b.c);_6={};_7=new _3.wire.Wire({object:_5,property:"b.c"}).getValue();new _3.wire.Wire({object:_6,property:"b.c"}).setValue(_7);t.assertEqual(_5.b.c,_6.b.c);_5={a:["A"]};_6={};_7=new _3.wire.Wire({object:_5,property:"a[0]"}).getValue();new _3.wire.Wire({object:_6,property:"a[0]"}).setValue(_7);t.assertEqual(_5.a[0],_6.a[0]);_5={getA:function(){return this._a;},_a:"A"};_6={setA:function(a){this._a=a;}};_7=new _3.wire.Wire({object:_5,property:"a"}).getValue();new _3.wire.Wire({object:_6,property:"a"}).setValue(_7);t.assertEqual(_5._a,_6._a);_5={getPropertyValue:function(p){return this["_"+p];},_a:"A"};_6={setPropertyValue:function(p,v){this["_"+p]=v;}};_7=new _3.wire.Wire({object:_5,property:"a"}).getValue();new _3.wire.Wire({object:_6,property:"a"}).setValue(_7);t.assertEqual(_5._a,_6._a);},function test_Wire_type(t){var _8={a:"1"};var _9=new _3.wire.Wire({object:_8,property:"a"}).getValue();t.assertEqual("11",_9+1);var _a=new _3.wire.Wire({object:_8,property:"a",type:"number"}).getValue();t.assertEqual(2,_a+1);},function test_Wire_converterObject(t){var _b={a:"1"};var _c={convert:function(v){return v+1;}};var _d=new _3.wire.Wire({object:_b,property:"a",converter:_c}).getValue();t.assertEqual("11",_d);},function test_Wire_converterFunction(t){var _e={a:"1"};var _f={convert:function(v){return v+1;}};var _10=new _3.wire.Wire({object:_e,property:"a",type:"number",converter:_f.convert}).getValue();t.assertEqual(2,_10);},function test_Wire_converterObjectByString(t){var _11={a:"1"};var _12=new _3.wire.Wire({object:_11,property:"a",type:"number",converter:"dojox.wire.tests.programmatic.Wire.Converter"}).getValue();t.assertEqual(2,_12);},function test_Wire_converterFunctionByString(t){var _13={a:"1"};var _14=new _3.wire.Wire({object:_13,property:"a",type:"number",converter:"__wireTestConverterFunction"}).getValue();t.assertEqual(2,_14);},function test_Wire_converterObjectByStringDynamic(t){var _15={a:"1"};var _16=new _3.wire.Wire({object:_15,property:"a",type:"number",converter:"dojox.wire.tests.programmatic.ConverterDynamic"}).getValue();t.assertEqual(2,_16);}]);});require(["dojox/wire/tests/programmatic/Wire"]);