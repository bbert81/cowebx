/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/html/format"],function(_1,_2,_3){_1.getObject("dojox.html.tests.format",1);doh.register("dojox.html.tests.format",[{name:"Format:  Basic HTML Format test",runTest:function(t){var _4="<div><b>hello</b> this is some text.</div>";var _5="<div>\n"+"\t<b>hello</b> this is some text.\n"+"</div>\n";var _6=_3.html.format.prettyPrint(_4);doh.assertEqual(_5,_6);}},{name:"Format:  Basic HTML Format test with three space indent",runTest:function(t){var _7="<div><b>hello</b> this is some text.</div>";var _8="<div>\n"+"   <b>hello</b> this is some text.\n"+"</div>\n";var _9=_3.html.format.prettyPrint(_7,3);doh.assertEqual(_8,_9);}},{name:"Format:  Basic HTML Format test with three space indent and custom encoding",runTest:function(t){var _a="<div><b>hello</b> this is \"some\" entities & text.</div>";var _b="<div>\n"+"   <b>hello</b> this is \"some\" entities &amp; text.\n"+"</div>\n";var _c=_3.html.format.prettyPrint(_a,3,-1,[["&","amp"]]);doh.assertEqual(_b,_c);}},{name:"Format:  Basic HTML Format test with comment node",runTest:function(t){if(!_1.isIE){var _d="<div><!-- This is a comment! --><br></div>";var _e="<div>\n"+"   <!--\n"+"      This is a comment!\n"+"   -->\n"+"   <br>\n"+"</div>\n";var _f=_3.html.format.prettyPrint(_d,3);doh.assertEqual(_e,_f);}}},{name:"Format:  Basic HTML Format test with inline tags",runTest:function(t){var txt="<div><b>hello</b> <a href=\"http://example.com/\">Example.com</a> this is some text after the link.</div>";var _10="<div>\n"+"   <b>hello</b> <a href=\"http://example.com/\">Example.com</a> this is some text after the link.\n"+"</div>\n";var _11=_3.html.format.prettyPrint(txt,3);doh.assertEqual(_10,_11);}},{name:"Format:  Basic HTML Format test with inline tags (2)",runTest:function(t){var txt="<div><b>hello</b> <br> <a href=\"http://example.com/\">Example.com</a> this is some text after the link.</div>";var _12="<div>\n"+"   <b>hello</b>\n"+"   <br>\n"+"   <a href=\"http://example.com/\">Example.com</a> this is some text after the link.\n"+"</div>\n";var _13=_3.html.format.prettyPrint(txt,3);doh.assertEqual(_12,_13);}},{name:"Format:  Basic HTML Format test with id",runTest:function(t){var txt="<div id=\"myID\"><b>hello</b> this is some text.</div>";var _14="<div id=\"myID\">\n"+"\t<b>hello</b> this is some text.\n"+"</div>\n";var _15=_3.html.format.prettyPrint(txt);doh.assertEqual(_14,_15);}},{name:"Format:  Basic HTML Format test with attributes (sorting attributes)",runTest:function(t){var txt="<div id=\"myID\" style=\"font-weight: bold; font-style: italic;\" foo=\"bar\"><b>hello</b> this is some text.</div>";var _16="<div foo=\"bar\" id=\"myID\" style=\"font-style: italic; font-weight: bold;\">\n"+"\t<b>hello</b> this is some text.\n"+"</div>\n";var _17=_3.html.format.prettyPrint(txt);doh.assertEqual(_16,_17);}},{name:"Format:  Basic HTML Format test with attributes (multiple unquoted)",runTest:function(t){var txt="<p><font id=\"myID\" size=\"6\"><b>hello</b> this is some text.</font></p>";var _18="<p>\n\t<font id=\"myID\" size=\"6\">"+"<b>hello</b> this is some text."+"</font>\n</p>\n";var _19=_3.html.format.prettyPrint(txt);doh.assertEqual(_18,_19);}},{name:"Format:  Basic HTML Format test with style",runTest:function(t){var txt="<div style=\"font-weight: bold;\"><b>hello</b> this is some text.</div>";var _1a="<div style=\"font-weight: bold;\">\n"+"\t<b>hello</b> this is some text.\n"+"</div>\n";var _1b=_3.html.format.prettyPrint(txt);doh.assertEqual(_1a,_1b);}},{name:"Format:  Basic HTML Format test with multi style",runTest:function(t){var txt="<div style=\"font-weight: bold; color: red\"><b>hello</b> this is some text.</div>";var _1c="<div style=\"color: red; font-weight: bold;\">\n"+"\t<b>hello</b> this is some text.\n"+"</div>\n";var _1d=_3.html.format.prettyPrint(txt);doh.assertEqual(_1c,_1d);}},{name:"Format:  Basic HTML Format with script test",runTest:function(t){var txt="<div><div>hello</div>this is some text.<script>var foo=\"bar\";\nif(foo !== \"bar\"){\n alert(\"Should not be here!\");\n}</script></div>";var _1e="<div>\n"+"\t<div>\n"+"\t\thello\n"+"\t</div>\n"+"\tthis is some text.\n"+"\t<script>\n"+"\t\tvar foo=\"bar\";\n"+"\t\tif(foo !== \"bar\"){\n"+"\t\t\talert(\"Should not be here!\");\n"+"\t\t}\n"+"\t</script>\n"+"</div>\n";var _1f=_3.html.format.prettyPrint(txt);doh.assertEqual(_1.trim(_1e),_1.trim(_1f));}},{name:"Format:  Basic HTML Format with script test and three space indent",runTest:function(t){var txt="<div><div>hello</div>this is some text.<script>var foo=\"bar\";\nif(foo !== \"bar\"){\n alert(\"Should not be here!\");\n}</script></div>";var _20="<div>\n"+"   <div>\n"+"      hello\n"+"   </div>\n"+"   this is some text.\n"+"   <script>\n"+"      var foo=\"bar\";\n"+"      if(foo !== \"bar\"){\n"+"         alert(\"Should not be here!\");\n"+"      }\n"+"   </script>\n"+"</div>\n";var _21=_3.html.format.prettyPrint(txt,3);doh.assertEqual(_20,_21);}},{name:"Format:  Basic HTML Format with script test and three space indent, XHTML",runTest:function(t){var txt="<div><div>hello<br><hr></div>this is some text.<script>var foo=\"bar\";\nif(foo !== \"bar\"){\n alert(\"Should not be here!\");\n}</script></div>";var _22="<div>\n"+"   <div>\n"+"      hello\n"+"      <br />\n"+"      <hr />\n"+"   </div>\n"+"   this is some text.\n"+"   <script>\n"+"      var foo=\"bar\";\n"+"      if(foo !== \"bar\"){\n"+"         alert(\"Should not be here!\");\n"+"      }\n"+"   </script>\n"+"</div>\n";var _23=_3.html.format.prettyPrint(txt,3,-1,null,true);doh.assertEqual(_22,_23);}},{name:"Format:  Basic HTML Format with &lt;pre&gt; tag",runTest:function(t){if(!_1.isIE){var txt="<div><pre>hello\nthis is    spaced\nWhee!\n</pre></div>";var _24="<div>\n"+"\t<pre>\n"+"hello\n"+"this is    spaced\n"+"Whee!\n"+"\t</pre>\n"+"</div>\n";var _25=_3.html.format.prettyPrint(txt);doh.assertEqual(_24,_25);}}},{name:"Format:  Basic HTML Format with &lt;pre&gt; tag and three space indent",runTest:function(t){if(!_1.isIE){var txt="<div><pre>hello\nthis is    spaced\nWhee!\n</pre></div>";var _26="<div>\n"+"   <pre>\n"+"hello\n"+"this is    spaced\n"+"Whee!\n"+"   </pre>\n"+"</div>\n";var _27=_3.html.format.prettyPrint(txt,3);doh.assertEqual(_26,_27);}}},{name:"Format:  Semi-complex HTML format",timeout:10000,runTest:function(t){if(!_1.isIE){var _28=new doh.Deferred();var _29={url:_1.moduleUrl("dojox.html.tests","unformatted.html").toString(),handleAs:"text",preventCache:true};var ufd=_1.xhrGet(_29);ufd.addCallback(function(_2a){_2a=_3.html.format.prettyPrint(_2a,3);var _2b={url:_1.moduleUrl("dojox.html.tests","formatted.html").toString(),preventCache:true,handleAs:"text"};var fd=_1.xhrGet(_2b);fd.addCallback(function(_2c){try{doh.assertEqual(_2c,_2a);_28.callback(true);}catch(e){_28.errback(e);}});fd.addErrback(function(_2d){_28.errback(_2d);});});ufd.addErrback(function(err){_28.errback(err);});return _28;}return null;}}]);});require(["dojox/html/tests/format"]);