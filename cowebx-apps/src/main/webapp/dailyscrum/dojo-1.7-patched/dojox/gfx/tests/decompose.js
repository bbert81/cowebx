/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojox/gfx/decompose"],function(_1,_2,_3){_1.getObject("dojox.gfx.tests.decompose",1);(function(){var m=_3.gfx.matrix;var eq=function(t,a,b){t.t(2*Math.abs(a-b)/((a<1&&b<1)?1:a+b)<0.000001);};var _4=function(t,a,b){eq(t,a.xx,b.xx);eq(t,a.yy,b.yy);eq(t,a.xy,b.xy);eq(t,a.yx,b.yx);eq(t,a.dx,b.dx);eq(t,a.dy,b.dy);};var _5=function(r){return m.normalize([m.translate(r.dx,r.dy),m.rotate(r.angle2),m.scale(r.sx,r.sy),m.rotate(r.angle1)]);};var _6=function(a){return _5(_3.gfx.decompose(a));};var _7=function(t,a){var A=m.normalize(a);_4(t,A,_6(A));};tests.register("dojox.gfx.tests.decompose",[function IdentityTest(t){_7(t,m.identity);},function FlipXTest(t){_7(t,m.flipX);},function FlipYTest(t){_7(t,m.flipY);},function FlipXYTest(t){_7(t,m.flipXY);},function TranslationTest(t){_7(t,m.translate(45,-15));},function RotationTest(t){_7(t,m.rotateg(35));},function SkewXTest(t){_7(t,m.skewXg(35));},function SkewYTest(t){_7(t,m.skewYg(35));},function ReflectTest(t){_7(t,m.reflect(13,27));},function ProjectTest(t){_7(t,m.project(13,27));},function ScaleTest1(t){_7(t,m.scale(3));},function ScaleTest2(t){_7(t,m.scale(3,-1));},function ScaleTest3(t){_7(t,m.scale(-3,1));},function ScaleTest4(t){_7(t,m.scale(-3,-1));},function ScaleRotateTest1(t){_7(t,[m.scale(3),m.rotateAt(35,13,27)]);},function ScaleRotateTest2(t){_7(t,[m.scale(3,-1),m.rotateAt(35,13,27)]);},function ScaleRotateTest3(t){_7(t,[m.scale(-3,1),m.rotateAt(35,13,27)]);},function ScaleRotateTest4(t){_7(t,[m.scale(-3,-1),m.rotateAt(35,13,27)]);},function RotateScaleTest1(t){_7(t,[m.rotateAt(35,13,27),m.scale(3)]);},function RotateScaleTest2(t){_7(t,[m.rotateAt(35,13,27),m.scale(3,-1)]);},function RotateScaleTest3(t){_7(t,[m.rotateAt(35,13,27),m.scale(-3,1)]);},function RotateScaleTest4(t){_7(t,[m.rotateAt(35,13,27),m.scale(-3,-1)]);},function RotateScaleRotateTest1(t){_7(t,[m.rotateAt(35,13,27),m.scale(3),m.rotateAt(-15,163,-287)]);},function RotateScaleRotateTest2(t){_7(t,[m.rotateAt(35,13,27),m.scale(3,-1),m.rotateAt(-15,163,-287)]);},function RotateScaleRotateTest3(t){_7(t,[m.rotateAt(35,13,27),m.scale(-3,1),m.rotateAt(-15,163,-287)]);},function RotateScaleRotateTest4(t){_7(t,[m.rotateAt(35,13,27),m.scale(-3,-1),m.rotateAt(-15,163,-287)]);}]);})();});require(["dojox/gfx/tests/decompose"]);