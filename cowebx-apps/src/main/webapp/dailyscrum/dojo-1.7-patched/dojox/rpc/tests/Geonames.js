/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

define(["dojo","dijit","dojox","dojo/io/script","dojox/rpc/Service"],function(_1,_2,_3){_1.getObject("dojox.rpc.tests.Geonames",1);_3.rpc.tests.service=new _3.rpc.Service(_1.moduleUrl("dojox.rpc.SMDLibrary","geonames.smd"));_3.rpc.tests.TEST_METHOD_TIMEOUT=20000;_3.rpc.tests.TEST_METHOD_LONG_TIMEOUT=30000;_3.rpc.tests._testMethod=function(_4){return function(m){var d=new doh.Deferred();if(_4.name&&_4.parameters){var _5=_3.rpc.tests.service[_4.name](_4.parameters);_5.addCallback(this,function(_6){if(_4.debugTest){}var _7=_4.testType||"compare";switch(_7){case "compare":undefined;if(_1.toJson(_6)==_4.expectedResult){d.callback(true);}else{d.errback(new Error("Unexpected Return Value in comparison: ",_6));}break;case "result":undefined;if(_6&&_1.toJson(_6)){d.callback(true);}else{d.errback(new Error("Unexpected Return Value, no result or not valid json: ",_6));}break;default:d.errback(new Error("Unknown test type"));break;}});}return d;};};doh.register("dojox.rpc.tests.geonames",[{name:"#1, getCities()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getCities",parameters:{north:44.1,south:-9.9,east:-22.4,west:55.2},expectedResult:_1.toJson({"geonames":[{"fcodeName":"capital of a political entity","countrycode":"MX","fcl":"P","fclName":"city, village,...","name":"Mexico City","wikipedia":"en.wikipedia.org/wiki/Mexico_City","lng":-99.1386111,"fcode":"PPLC","geonameId":3530597,"lat":19.4341667,"population":11285654},{"fcodeName":"capital of a political entity","countrycode":"PH","fcl":"P","fclName":"city, village,...","name":"Manila","wikipedia":"","lng":120.9822222,"fcode":"PPLC","geonameId":1701668,"lat":14.6041667,"population":10444527},{"fcodeName":"capital of a political entity","countrycode":"BD","fcl":"P","fclName":"city, village,...","name":"Dhaka","wikipedia":"en.wikipedia.org/wiki/Dhaka","lng":90.4086111,"fcode":"PPLC","geonameId":1185241,"lat":23.7230556,"population":10356500},{"fcodeName":"capital of a political entity","countrycode":"KR","fcl":"P","fclName":"city, village,...","name":"Seoul","wikipedia":"en.wikipedia.org/wiki/Seoul","lng":126.9997222,"fcode":"PPLC","geonameId":1835848,"lat":37.5663889,"population":10349312},{"fcodeName":"capital of a political entity","countrycode":"ID","fcl":"P","fclName":"city, village,...","name":"Jakarta","wikipedia":"en.wikipedia.org/wiki/Jakarta","lng":106.8294444,"fcode":"PPLC","geonameId":1642911,"lat":-6.1744444,"population":8540121},{"fcodeName":"capital of a political entity","countrycode":"JP","fcl":"P","fclName":"city, village,...","name":"Tokyo","wikipedia":"en.wikipedia.org/wiki/Tokyo","lng":139.7513889,"fcode":"PPLC","geonameId":1850147,"lat":35.685,"population":8336599},{"fcodeName":"capital of a political entity","countrycode":"TW","fcl":"P","fclName":"city, village,...","name":"Taipei","wikipedia":"en.wikipedia.org/wiki/Taipei","lng":121.525,"fcode":"PPLC","geonameId":1668341,"lat":25.0391667,"population":7871900},{"fcodeName":"capital of a political entity","countrycode":"CN","fcl":"P","fclName":"city, village,...","name":"Beijing","wikipedia":"en.wikipedia.org/wiki/Beijing","lng":116.3883333,"fcode":"PPLC","geonameId":1816670,"lat":39.9288889,"population":7480601},{"fcodeName":"capital of a political entity","countrycode":"CO","fcl":"P","fclName":"city, village,...","name":"Bogot?","wikipedia":"en.wikipedia.org/wiki/Bogot%C3%A1","lng":-74.0833333,"fcode":"PPLC","geonameId":3688689,"lat":4.6,"population":7102602},{"fcodeName":"capital of a political entity","countrycode":"HK","fcl":"P","fclName":"city, village,...","name":"Hong Kong","wikipedia":"","lng":114.15007352829,"fcode":"PPLC","geonameId":1819729,"lat":22.2840136009625,"population":7012738}]})})},{name:"#2, getQuakes()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getQuakes",parameters:{north:44.1,south:-9.9,east:-22.4,west:55.2,"date":"2007-07-31",maxRows:1},expectedResult:_1.toJson({"earthquakes":[{"eqid":"2007flce","magnitude":6.1,"lng":-17.7996,"src":"us","datetime":"2007-07-31 22:55:31","depth":10,"lat":-0.095}]})})},{name:"#3, getWeather()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getWeather",testType:"result",parameters:{north:44.1,south:-9.9,east:-22.4,west:55.2,"date":"2007-07-31",maxRows:1}})},{name:"#4, getWeatherByICAO()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getWeatherByICAO",testType:"result",parameters:{ICAO:"LSZH"}})},{name:"#5, getWeatherByCoords()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getWeatherByCoords",testType:"result",parameters:{lat:43,lng:-2}})},{name:"#6, getChildren()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getChildren",parameters:{geonameId:3175395},testType:"result"})},{name:"#7, getHeirarchy()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getHierarchy",parameters:{geonameId:3175395},testType:"result"})},{name:"#8, getNeighbours()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getNeighbours",parameters:{geonameId:3175395},testType:"result"})},{name:"#9, getNeighbourhood()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getNeighbourhood",parameters:{lat:40.78343,lng:-73.96625},expectedResult:_1.toJson({"neighbourhood":{"adminName2":"New York County","adminCode2":"061","adminCode1":"NY","countryName":"United States","name":"Central Park","countryCode":"US","city":"New York City-Manhattan","adminName1":"New York"}})})},{name:"#10, getSiblings()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getSiblings",parameters:{geonameId:3175395},testType:"result"})},{name:"#11, getCountryCode()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getCountryCode",parameters:{lat:40.78343,lng:-73.96625},expectedResult:_1.toJson({"distance":0,"countryName":"United States","countryCode":"US"})})},{name:"#12, getCountrySubdivision()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getCountrySubdivision",parameters:{lat:40.78343,lng:-73.96625},expectedResult:_1.toJson({"distance":0,"adminCode1":"NY","countryName":"United States","countryCode":"US","codes":[{"code":"36","type":"FIPS10-4"},{"code":"NY","type":"ISO3166-2"}],"adminName1":"New York"})})},{name:"#13, getWikipediaBoundingBox()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getWikipediaBoundingBox",parameters:{north:"44.1","south":"-9.9","east":"-22.4","west":"55.2","maxRows":"1"},testType:"result"})},{name:"#14, searchWikipedia()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"searchWikipedia",parameters:{q:"dojo",maxRows:1},expectedResult:_1.toJson({"geonames":[{"summary":"which is an umbrella organisation of various national, as well as smaller, aikido organisations. Although the name strictly refers only to the main training hall (''dojo''), it is often used by extension to refer to the Aikikai organisation itself. The dojo was founded by Morihei Ueshiba in 1931 under the name ''Kobukan'' (...)","title":"Aikikai Hombu Dojo","wikipediaUrl":"en.wikipedia.org/wiki/Aikikai_Hombu_Dojo","elevation":0,"countryCode":"JP","lng":139.714305555556,"feature":"landmark","lang":"en","lat":35.6991388888889,"population":0}]})})},{name:"#15, getTimezone()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"getTimezone",parameters:{lat:40.78343,lng:-73.96625},expectedResult:_1.toJson({"countryName":"United States","dstOffset":-4,"countryCode":"US","gmtOffset":-5,"lng":-73.96625,"timezoneId":"America/New_York","lat":40.78343})})},{name:"#16, search()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"search",parameters:{q:"dojo",maxRows:1},testType:"result"})},{name:"#17, postalCodeLookup()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"postcalCodeLookup",debugTest:true,parameters:{postalcode:"24060"},expectedResult:_1.toJson({})})},{name:"#18, postalCodeSearch()",timeout:_3.rpc.tests.TEST_METHOD_TIMEOUT,runTest:_3.rpc.tests._testMethod({name:"postalCodeSearch",parameters:{placename:"blacksburg"},expectedResult:_1.toJson({})})}]);});require(["dojox/rpc/tests/Geonames"]);